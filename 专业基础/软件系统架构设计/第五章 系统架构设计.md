---
title: 第五章 系统架构设计
date: 2021-11-01 11:23:19
tags: [软件工程, 软件系统架构设计]
categories: 专业基础
---

# 系统设计概述

## 系统设计概念与过程

* 系统设计概念：系统设计是指*在系统需求分析的基础上*，运用软件工程的思想与方法，设计出能满足系统需求目标的新系统构造方案的活动。
* 系统设计过程：
  * 需求分析
  * 总体设计（架构设计）
  * 详细设计
  * 实现与测试
  ![3kX660](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/3kX660.png)

## 系统设计活动

* 系统架构设计：在系统架构设计中，需要对系统的*总体架构、网络拓扑结构、软件架构、数据架构和应用架构*等方面进行设计。
* 基础设施平台设计：在系统总体设计时，还需考虑信息系统的运行环境设计，即基础设施平台设计。在基础设施平台设计中，除了考虑*系统的网络结构、网络结点通信关系、硬件计算资源能力、硬件存储资源能力*设计外，还需要考虑系统*运行软件环境设计*，如操作系统软件、数据库系统软件、应用中间件等。
* 系统构件设计：系统构件设计是对系统的组成构件进行设计，确定出*系统构件功能逻辑、构件接口*等。
* 系统界面设计：界面设计是对人和外部系统与信息系统之间交互界面设计。它包括操作界面、表单、报表、系统接口等要素设计。
* 系统数据库设计：数据库设计是指根据特定的系统应用需求，设计出合理的系统数据库结构。数据库设计需要经过*概念设计、逻辑设计和物理设计*等步骤。
* 程序流程设计：程序流程设计是对构件内部功能逻辑进行设计，确定*算法程序流程及其数据结构*。
* 安全机制设计：安全机制设计是对系统与数据的*安全访问、隐私保护等*安全措施与手段进行设计。
![CnkD9l](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/CnkD9l.png)

## 系统设计思想

* 抽象化：
  * 抽象是在系统规模大、逻辑复杂的情况下，*降低系统设计复杂性*的基本策略。 
  * 抽象的过程是从特殊到一般的过程，上层概念是下层概念的抽象。通过抽象*实现系统设计建模*。
* 逐步求精：
  * 把问题的求解过程分解成若干步骤或阶段，每步都比上步更精化，更接近问题的解法。
  * 抽象使得设计者能在宏观层面描述过程和数据而忽略低层的细节，而求精有助于设计者在*微观层面设计低层技术细节*。
* 模块化：
  * 模块化，即把一个大系统按照特定规则，*划分为若干较小的，又相互关联的部件*，以便将复杂问题分解为简单问题进行解决。
  * 模块是*数据说明、可执行语句等程序对象的集合*。它是单独命名的、可以通过名字来访问的功能部件，如程序的过程、函数、子程序、宏等。
* 信息隐藏：
  * 每个模块的实现细节对于其它模块来说应该是隐蔽的，模块之间实现*松耦合*，以便实现软件构件的*可复用性*。
  * 模块中所包含的信息(包括数据和过程)只能通过*接口访问*，以便支持模块的*可维护性*。
* 模块独立：
  * 模块完成独立的功能，并且与其他模块通过接口关联，符合信息隐蔽和信息局部化原则，模块间*关联和依赖程度尽可能小*。
  * 模块独立便于*功能被划分*，更易于开发和维护。
  * 模块独立性可以由两项指标来衡量:*内聚度与耦合度*。

## 系统设计原则和方法

* 设计原则：
  * 建立良好的系统*体系架构*，以满足系统的可靠性、安全性、可伸缩性、可维护性等非功能特性需求。
  * 系统设计应采取*模型抽象、模块化设计*，将复杂系统分解为较简单的子系统及其构件进行开发。
  * 采用*标准建模语言方式*直观、明确地表达设计思路，对系统架构、应用架构、软件架构、数据架构、系统构件、用户界面、程序逻辑等设计内容采用*可视化模型*表示。
* 设计方法：
  ![gNxUnI](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/gNxUnI.png)

## 面向对象系统分析与设计建模过程

* 需求建模
* 系统分析建模
* 系统总体设计建模
* 系统详细设计建模
![X0zoMQ](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/X0zoMQ.png)

# 系统架构基础

## 系统架构概述

* 系统架构概念：系统架构(又称系统体系架构)是指系统的组成结构模式，它由反映系统部件的*关联性、交互性和约束机制*进行描述。
* 系统架构设计：系统架构设计根据系统需求，从*不同层面、不同视角*给出系统总体框架的设计蓝图。
* 系统架构作用：
  * 系统架构反映系统设计总体框架，有利于开发者围绕系统设计进行*交流与讨论*。
  * 系统架构体现系统设计*策略*，它对系统开发工作有深远的影响。
  * 系统架构决定了系统*非功能特性*，如系统可靠性、可用性、安全性、可伸缩性，以及系统性能。
* 系统架构类型：
  * 总体架构
  * 应用架构
  * 软件架构
  * 数据架构
  * 拓扑架构
  ![2r1fH5](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/2r1fH5.png)

## 系统总体架构

* 总体架构：系统总体架构是从全局层面给出系统各种组成要素之间结构关系。它通常包括*基础设施、运行平台、应用软件、业务部门、信息数据以及用户*等。
* 示例1：
  ![j61aYK](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/j61aYK.png)
* 示例2:
  ![nXI5wF](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/nXI5wF.png)

## 系统拓扑架构

* 系统拓扑结构是指从*系统基础设施平台层面描述节点与节点之间的通信连接关系*。节点是指系统中处理逻辑相对独立的物理实体，如PC计算机、服务器、外围设备等。
* 系统拓扑结构设计是从系统基础设施平台层面，给出*系统节点在网络环境中的结构关系*，包括节点分布、节点类型节点运行环境以及节点之间的通信联系。
* 示例：
    ![auQmH1](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/auQmH1.png)

## 系统数据架构

* 系统数据架构是指从数据管理视角所描述的系统架构，它通常用来反映各类*数据资源的组织与存储*。
* 系统数据架构不仅需要反映机构的*数据结点分布关系*。还需要考虑数据资源的*存储结构与存储方式*，如文件存储、数据库存储或数据仓库存储。
* 系统数据分层架构设计：在大数据应用系统中，按照数据不同处理要求，可以将它们组织到不同层次的数据管理系统进行计算与分析处理。
  ![uGB2xN](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/uGB2xN.png)
* 系统数据治理架构设计：在信息系统中，数据资源结点一般是按照业务管理的需求，将它们部署到*不同业务部门*服务器进行数据存储与访问管理。系统数据*治理架构与组织机构的数据管理职能*有直接关系。
  ![7OSBWp](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/7OSBWp.png)
* 系统数据存储架构设计：在信息系统中，一些数据资源需要采用文件系统存储，另外一些数据资源需要采用数据库系统存储，还有一些数据资源则需要数据仓库系统进行数据存储。每类*存储系统*在设计上需要满足应用需求，如支持高可用、高性能的存取访问。
    ![xDmMLJ](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/xDmMLJ.png)
* 示例：
  ![MVFzzG](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/MVFzzG.png)

## 系统应用架构

* 系统应用架构是指从应用功能视角所描述的系统架构。系统应用架构关注*应用功能划分、应用功能配置、服务访问、服务管理*等要素。
* 示例：
  ![sQIccC](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/sQIccC.png)

## 软件体系架构

* 软件体系架构(简称软件架构)是一种从软件视角所描述的系统架构，它对软件系统的结构、行为进行高层抽象，-般通过*构件、连接件、配置、端口、角色*等图符元素进行描述。
* 基本元素：
  * 构件(component) :具有特定功能的、可重用的*软件模块*。
  * 连接件(connector) :用以表示*构件之间的交互*，如过程调用、事件广播、交互协议等。
  * 配置(conf iguration) :用于对构件与连接件的*拓扑逻辑、语义约束*等说明。
  * 端口(port) :表示*构件接口与外部环境*的交互点。
  * 角色(role) :*连接件的参与者*，如事件消息的发布者与接受者。
* 软件架构设计是指基于一定的设计原则和系统需求，从软件角度对组成系统的各部分进行划分和组织，设计系统的构件组成结构及其构件之间的相互关系。
* 软件架构设计目标：在软件架构设计中，除了满足系统功能需求外，还应满足系统非功能需求，即达到如下质量目标。
  * 可靠性(Reliable):软件系统具有可靠运行的能力。
  * 安全性(Secure):软件系统具有安全运行的能力。
  * 可伸缩性(Scalable):软件 系统具有在用户访问量、并发用户数发生变化情况下，保持合理运行性能和资源利用率的能力。
  * 定制化(Customizable):软件系统具有个性化系统功能定制的能力。
  * 可扩展性(Extensible):具有对系统进行功能和性能扩展的能力。
  * 可维护性(Ma intainable):具有进行软件修改或 软件进化的能力。
* 示例：
  ![Bn4VPB](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/Bn4VPB.png)

# 软件架构风格

## 软件架构风格概述

* 软件架构风格是指针对不同系统共性问题提供一般性可重用的软件架构解决方案，它反映了领域中众多系统所*共有的软件结构及其模式*。
* 软件架构风格应用意义：
  * 定义了一类软件系统架构的要素和一组指导系统架构设计的规则。可促进*软件系统设计的复用*，使得一些经过实践验证的软件架构方案能够可靠地解决新问题。
  * 通过对标准软件架构风格的应用可支持*不同系统之间互操作性*，以便于实现系统集成。
  * 在特定设计空间下，便于*对软件系统相关设计作出分析*。
* 软件架构风格分类：
  * 数据流风格: 批处理序列架构、管道/过滤器架构
  * 调用/返回风格: 主程序/子程序架构、面向对象架构、分层体系架构
  * 独立构件风格: 进程通讯架构、事件驱动架构
  * 虚拟机风格: 解释器架构、基于规则的系统架构
  * 客户/服务器风格: 客户/服务器架构、浏览器/服务器架构
  * 面向服务风格: 面向服务架构(SOA) 、 微服务架构.
  * 仓库风格: 数据共享体系架构、黑板系统架构

## 分层体系架构

* 分层体系架构采用层次化方式组织功能构件，*每一层都是为上一层提供服务，并使用下一层提供的功能服务*。
* 将软件系统分成若干个水平层，每一层都有*清晰的功能处理分工*，各层不需要知道其他层的细节，*层与层之间仅通过接口通信*。
* 用户对软件系统的访问请求将依次通过各层功能逻辑构件进行处理，*不允许跳过其中任何层*。
* 示例：
  ![k6tYbW](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/k6tYbW.png)
* 优点：
  * 便于复杂系统设计，使整体设计更加*简洁与清晰*。
  * 支持系统*功能扩展设计*，每层的功能修改最多只影响相邻层。
  * 只要给相邻层提供标准接口，就可实现*功能复用*。
* 缺点