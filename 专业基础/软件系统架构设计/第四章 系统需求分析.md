---
title: 第四章 系统需求分析
date: 2021-10-28 12:30:19
tags: [软件工程, 软件系统架构设计]
categories: 专业基础
---
# 需求采集

## 研究现有文档与系统

* 组织结构图：组织机构图提供了组织机构的*部门、关键岗位与角色*构成，并能反映它们之间的所属关系。
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028123346.png)
* 系统规划文档：组织机构的使命陈述、IT战略、 信息化目标、建设方案、技术路线等。
* 工作规范文档：组织管理上的各种*制度与规范*，如客服服务流程规范文件、财务报销规定、采购规定、设备入库管理规定、出差补贴规定等。示例：
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028123751.png)
* 业务单据：不同业务的单据，比如进销存业务有采购申请单、进货单、发货单、到货单、到货检验单、销售订单。
* 报表；不同业务的报告，如采购周报、库存月报、销售日报、销售月报、生产日报、生产月报、应收帐月报等。
* 问题描述文档：这些文档包括反映业务往来的函件、研究报告、建议单、客户反映问题的记录单等。示例：
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028124034.png)
* 领域专业知识：业务处理涉及的专业领域知识，比如一-个化工企业相关的专业知识是化学工程，一个银行相关的专业知识是存贷、理财产品、投行等。
* 现有相关软件系统：现有系统的软件内容包括系统相关的流程图、设计文档、程序文档、用户使用手册、界面、数据库表等。

## 与客户及相关人员进行面谈

* 面谈法是通过与客户直接面谈交流，获取需求的调查方法。
* 面谈对象：
  * 客户:周期、预算、质量要求、预期收益
  * 用户:功能需求、非功能需求
  * 领域专家:领域知识
  * 客户的.上下游合作伙伴:对系统的合作期望
* 正式面谈：
  * 正式面谈需要提前预约，有特定的参与对象。
  * 需求调研人员需要提前准备要面谈的问题,有些问题有预设答案，供被面谈对象进行选择与确认，有的是开放式的，无法提前准备可选答案。
* 非正式面谈：
  * 非正式面谈是正式面谈的补充，时间、地点、形式都不确定，更多是日常交流，没有预设的问题。
  * 在轻松的面谈环境下，被访谈对象更可能说出自己真实的想法，或提及调研人员没有想到的问题和事实。
* 面谈的优缺点：
  * 优点：通过面对面的谈话与聊天，能比较*深入*地了解被面谈者对问题的看法与回答，并能够根据被面谈者的回答*动态*地调整面谈内容。
  * 缺点：需要提前*预约*，由于每个岗位平时都在忙于处理自己的业务，面谈时间可能不一定能及时安排，且面谈后需要*整理*，并尽量得到被面谈者的书面确认，这也需要一定时间周期，这会导致调研过程*时间较长*。

## 问卷调查法

* 问卷调查法是通过向被调查者发放预先设计的*调查表格*，要求被调查者填写后限时返回，然后整理分析的一种需求调查方法。
* 使用场景：
  * 对于那些*目标清晰、业务相对简单*的项目，调查表是一种有效与低成本的需求采集方法。
  * 当需要调查*很多人的观点而他们又不在同一个地方*的时候，调查表显得很经济实用。
* 调查表问卷设计：
  * 调查表问卷可以设计两类问题:封闭式问题(有备选答案)、开放式问题(没有备选答案)。
  * 封闭问题类型：
    * 单选/多选问题:被调查者需要从提供的备选答案中选择一个或多个答案;
    * 评价问题:一类特殊的单选问题，表达被调查者对问题的态度或观点如“强烈同意、同意、中立、不同意’
    * 排序问题:对所提供的备选答案按优先级排序，可以是序号、百分比等排序方式。
    * 判断问题:被调查者对问题打勾或打叉。
* 问卷调查表的应用方式：
* 传统方法:采用纸质问卷表格，人手工填写，效率低、成本高，难以异地。
* 新型渠道方法:采用网络问卷页面、电子邮件、即时通信软件、社交网络系统等方式调查具有高效、准确、便捷等优点。

## 观察法

* 观察法是一种通过观察业务工作及其活动，了解业务过程与相关领域知识进一步获取业务需求的调查方法。
* 观察方法：
  * 旁观式观察
  * 解释式观察
  * 参与式观察

## 头脑风暴法

* 头脑风暴法是一种激发参与者脑力活动，产生新思想或者提出问题解决方案的*会议*技术。
* 头脑风暴的作用：
  * 激发参与者产生新思想
  * 启发用户的*潜在需求*
  * 对来自不同人员的需求达成一致意见

## 原型法

* 原型法是一种利用快速构建的原型演示系统启发用户需求或验证用户需求的方法，从而可获得用户的需求反馈。
* 原型法的用途：
  * 了解用户对原型系统的*反馈*信息
  * 启发用户的*潜在需求*
  * 获取用户的真实需求

* 原型方法分类：

  * 进化式原型:将原型系统逐渐地*演化为产品系统*。
    * 进化式原型必须具有*健壮性的系统架构设计*。即便系统多次迭代修改，系统都应具有稳定性。
    * 进化式原型也必须采用*可扩展性*的系统设计原则，以支持版本升级与功能扩展。
    * 建立进化式原型比建立抛弃式原型需要更多*时间*。

  * 拋弃式原型:通过原型系统获取用户的*明确需求*。
    * 在原型达到预期目的以后将它拋弃，可以花费较少的代价*导引出系统需求*。
    * 拋弃式原型方法适合解决需求中的*不确定性、二义性、不完整性或含糊性问题*，以减少在继续开发时存在的风险。
    * 拋弃式原型可帮助用户和开发者*激发需求*，并可以发现需求中的漏洞。
    ![6gHYR8](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/6gHYR8.png)

* 原型法开发过程：
  * 确定用户基本需求：基本功能、典型输入/输出数据、基本界面形式
  * 快速构建原型系统：
    * 采用所见即所得的快速开发工具实现*基本功能界面*(如WebBui lder等)
    * 采用界面原型设计工具(如Mockp lus,Axure RP等)实现*演示系统*
  * 对原型运行与评价：
    * 用户试用原型系统，*反馈*问题
    * 确定系统的真实需求
    * *启发*用户的新需求
  * 修正和改进原型系统：
    * 根据用户反馈问题，确定*修改方案*改进原型系统。
    * 用户*再试用与评价，再修改*，直到满意为止。

## 快速应用开发（RAD）

* 快速应用开发(Rapid Appl icat ion Deve lopment，RAD)是一种通过*快速发布软件版本*，使用户及时反馈潜在需求的软件开发过程方法。该方法可以用于复杂系统的*需求导引*,也可用于*系统迭代开发*。
* 快速应用开发的用途：
  * 尽快得到系统原型，*验证*用户的真实需求。
  * 通过系统原型使用，*启发*用户的潜在需求。
* RAD融合了进化型原型法和头脑风暴方法，其基本思想为:
  * 让用户更*主动*地参与到项目分析、设计和构造活动中; 
  * 将项目开发组织成一系列重点突出的*研讨会*，研讨会要让项目投资方、用户、系统分析员、系统设计人员和开发人员一同参与;
  * 通过-种*迭代*的构造方法加速需求分析和设计阶段;
  * 让用户*提前看到*一个可工作的系统。
* RAD所需支持：
  * 进化原型*迭代开发*技术
  * *CASE* (计算机辅助软件工程)工具支持.
  * 拥有能使用先进工具的专门*人员*
  * 组织交互式联合应用开发活动(*头脑风暴会议*)
  * 严格按照*项目进度表*开展开发活动
* RAD方法的不足：
  * RAD需要足够的*人力资源*，并投入相当的精力;
  * 开发人员和客户必须在很短的时间内完成一系列的*需求分析*， 任何一方配合不当都会导致RAD项目失败;
  * RAD*不适合技术风险很高*的情况。当一个系统开发要采用很多新技术或要求与现有系统进行高互操作时，RAD方法会面临较大风险;
  * RAD可能产生难以*维护与扩展*的软件;
  * RAD难以有足够时间去完成文档工作，其*开发文档不足*。

# 需求可视化建模

* 从用户收集到的需求信息通常是一大堆杂乱的文字信息，即使你对它们进行了分类，这些组织好的信息还不足够使开发人员对需求完全*理解*。
* 用户需求通常是一些宽泛的文本描述，难以对信息系统开发给出*明确的、详细的、标准的需求规格*定义。
* 需求可视化建模可以*直观地、形式化展示系统需求*要求，可帮助分析人员解决需求说明中不一致性、模糊性等问题。

## BPMN业务流程建模

* 普通流程建模：
  * 私有业务流程一属于某个特定组织内部的流程。
  ![JxIuip](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/JxIuip.png)
  * 公开业务流程一业务流程涉及多个组织之间的业务交互。
  ![cz37iQ](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/cz37iQ.png) 
* 合作流程建模：
  * 合作流程是指有多个组织或部门门参与者在业务流程中进行合作。
  * 一个合作流程通常包含两个或更多泳池，每个泳池关联到一个合作中的参与者对象。泳池之间通过消息流表示相应参与者之间交换的消息。
  * 整个合作流程要多个部门的活动顺序连起来才完整。
  * 基础画法：
  ![YMN4Y1](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/YMN4Y1.png)
  * 示例：
  ![KqAOSq](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/KqAOSq.png)
* 编排流程建模：
  * 编排流程也是描述多个参与者之间的交互，但编排流程*取消掉了池的概念*直接表现多个参与者之间的消息交互，提供了一种*基于流程图*的业务流程视图。
  * 基础画法：
  ![ciRAgv](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/ciRAgv.png)
  * 示例：
  ![XdkOc4](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/XdkOc4.png)

## 用例图建模

* 针对复杂系统或大型系统进行需求分析，通常采用面向对象的UML用例图进行系统功能需求建模分析。
* 示例：
![KGKESG](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/KGKESG.png)
* 文字描述：
![rqdMDM](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/rqdMDM.png)

## 活动图建模

* 在系统需求分析中，除了定义功能用例外，还需要描述该*功能用例的内部处理流程*。这就需要采用UML活动图建模系统的用例行为过程。
* 示例：
![aQrfqw](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/aQrfqw.png)
* 活动图可以和泳道图结合起来：
![lrXukM](https://gitee.com/zhangjie0524/picgo/raw/master/uPic/lrXukM.png)

## 分析类图建模

* 在系统分析阶段，还可以建立分析类图，用于描述系统*由哪些分析类来实现用例功能*，即描述系统由哪些分析类组成。
* 示例：
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028181436.png)
* 分析类图建模步骤：
  1. 从问题领域抽取类
  2. 定义类名及属性
  3. 确定类之间关联
  4. 增量迭代完善类图
* 抽取类的方法：
  * 用例驱动方法:
    * 分析用例图模型，抽取含有*业务数据的实体*，作为系统的第一批实体类。
    * 将用例的*参与者*作为第二批实体类。
    * 建立基本分析类图。
  * 名词短语方法抽取类：
    * 阅读需求文档陈述，从中找出包含数据信息的名词短语
    * 每个名词短语可以作为一个候选类
    * 将候选类分为相关类、模糊类
    * 示例：
    ![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028182116.png)
    ![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028182158.png)
  * 公共类模式方法,根据通用的对象分类理论来识别类:
    * 概念类，如学生(Student) 、课程(Course)
    * 事件类，如到达(Arrival)
    * 组织类，如旅行社(Trave lAgency) 
    * 人员类，如乘客(Passenger )
    * 地点类，如办公室(Office)
  * CRC(类-职责-协作者)方法: CRC方法是一种用于领域建模的分析方法，基于领域基本概念去发现类、发现职责和定义协作者。
    * 基本模板：
    ![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028182548.png)
    * 类名代表相似对象的集合名称。
    * 职责是指类完成职责所需要数据和操作。
    * 协作者是该类为完成职责与其交互的他类。
    * 示例:
    ![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028182651.png)
* 定义类名及属性：一旦抽取出系统的基本候选类列表后，就可以使用建模工具进行类图定义。首先，需要定义各个类的名称，然后定义各个类的属性。
* 建模类之间的关系：
  * 分析类之间的业务关系，从而建立类之间的关联关系、依赖关系、泛化关系、聚合关系等。
  * 在系统类图建模中，为了进一步明确类之间的关系，可以对类之间关联进行*修饰说明*。
  ![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028183121.png)
  * 在系统类图建模中，一些类之间存在*公共特性(属性和操作)*，则需要对公共部分进行抽象定义，并建立继承关系，即定义*泛化关系*。
  ![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028183321.png)
  * 在系统类图建模中，一些类之间存在*整体-部分*语义关系，则需要建立*类聚合或复合*关系。
  ![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028183437.png)
* 增量迭代完善类模型：在现有类模型基础上，进行增量迭代完善。

# 需求文档化

* 需求规格说明书：在建立系统需求模型后，还应对系统需求模型进行规范化的文档描述，即编写需求规格说明书。内容组成：
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028183927.png)
* 需求规格说明标准：
  * IEEE830-1998系统需求规格说明
  * GB9385-2008计算机软件需求规格说明规范
  * 企业IT系统需求规格说明
* 系统需求组成：
  * 功能性需求：
    * 功能性需求指系统应该提供什么样的服务、如何对输入做出反应以及系统在特定条件下的行为等描述。
    * 功能性需求描述系统的*具体功能*，通常采用用例图建模描述，还可使用规约表、活动图、时序图、类图等模型对功能用例进行详细描述。
  * 非功能性需求：
    * 常见的系统性能需求指标:
      * 响应时间:对请求的响应时间。包括客户端响应时间、服务器响应时间、网络响应时间。
      * 吞吐量:单位时间内处理多少事务量/数据量。
      * 并发用户数: 支持多少用户同时执行一一个操作的能力。
      * 资源使用率: CPU占用率、内存占用率、磁盘I/0、网络I/0。
    * 一般非功能需求：
    ![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028184559.png)
* 接口需求：
  * 用户接口:定义了*用户使用软件*时的接口需求，如用户是通过命令行还是图形用户界面使用系统。
  * 软件接口:指待开发*软件与其他软件系统*之间的接口。如系统调用API服务接口。
  * 硬件接口:描述本*软件与硬件*设备之间的接口，如设备驱动、接插件标准等。
  * 通信接口:描述*系统与其他系统*之间的通信方式与协议，如局域网通信协议、蓝牙4. 0协议、WIFI协议等。

# 需求管理

## 需求管理内容

* 对*需求说明*进行规范化处理
* 对*需求的变更*进行流程化管理，避免出现需求变更带来的项目失败风险。
* 需求依赖矩阵： 当需求数目比较少时，采用需求依赖矩阵是-种发现需求矛盾或需求重叠的有效技术方法。
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028185324.png)
* 需求依赖矩阵可解决:
  * 需求冲突问题
  * 需求重叠问题

## 需求变更管理

* 在系统开发生命周期的任何阶段，需求都可能发生变更。若没有对这些变化进行管理，将会给项目管理带来麻烦。需要采用需求变更管理工具进行*存储与跟踪管理*。
* 需求变更内容管理；
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028185705.png)
* 需求变更追踪管理：
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028185820.png)
* 需求变更控制流程：
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028185902.png)

## 需求奉献分析与优先级

* 需求风险分析是确认那些很可能在开发阶段产生困难或导致项目失败的需求。
* 需求优先级是确认各个需求在项目中的重要程度。当项目面临延误时，使用优先级安排系统开发实现需求的先后顺序。
* 典型的需求风险类型：
  * 技术风险
  * 性能风险
  * 安全风险
  * 数据库完整性风险 
  * 开发过程风险
  * 易变性风险
  * 法律风险
  * 政治风险
* 需求变更管理工具：
  * 腾讯一站式敏捷研发协作云平台（TAPD）
  * 数只鸟

# 需求分析案例

* 以一个简化的银行ATM机系统为例进行需求分析，给出此系统的UML用例图、活动图和类图。简化的银行ATM机系统具有用户身份认证、余额查询、取钱、存钱和转账这五个基本功能。

## 用例图建模

![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028190718.png)
* 每个用例还需给出其规约表，下面以余额查询用例为例：
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028190829.png)

## 活动图建模

* 活动图与用例图对应因此，可以*为每个用例画一个活动图*。以余额查询用例为例：
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028190954.png)

## 类图建模

* 示例：
![](https://zjpicture.oss-cn-beijing.aliyuncs.com/img/20211028191033.png)





















	













